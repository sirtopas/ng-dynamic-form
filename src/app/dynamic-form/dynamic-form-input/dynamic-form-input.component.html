<section [formGroup]="form" class="mb-3">
    <label [attr.for]="field.key">{{ field.label }}</label>

    <section [ngSwitch]="field.controlType">
        <input *ngSwitchCase="'textbox'" [formControlName]="field.key" [id]="field.key" [type]="field.type"
            class="form-control" [ngClass]="{'is-invalid' : hasFieldError()}" />

        <select *ngSwitchCase="'dropdown'" [id]="field.key" [formControlName]="field.key" class="form-control"
            [ngClass]="{'is-invalid' : hasFieldError()}">
            <option *ngFor="let opt of field.options" [value]="opt.key">
                {{ opt.value }}
            </option>
        </select>

        <input *ngSwitchCase="'checkbox'" type="checkbox" [id]="field.key" [name]="field.key"
            [formControlName]="field.key" class="form-check-input" [ngClass]="{'is-invalid' : hasFieldError()}" />

        <div class="invalid-feedback d-block" *ngIf="hasFieldError()">
            <small>{{ field.label }} is required</small>
        </div>
    </section>

</section>